name: Workflow A

on:
  workflow_dispatch:
  push:
    branches:
      - london
env:
  GIT_PR_SHA: ${GITHUB_SHA}
  GIT_PR_SHORT: ${GITHUB_SHA:0:10}
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Trigger Workflow B
        run: |
         echo "out"
         export GIT_PR_SHORT=${{ env.GIT_PR_SHORT }}
         echo "GIT SHA $GIT_PR_SHORT"
         
      - name: Set Environment Variable
        id: set_env_var
        run: |
          echo "$GIT_PR_SHORT" > my_variable.txt
          
      - name: Publish Artifact
        uses: actions/upload-artifact@v2
        with:
          name: my-artifact
          path: my_variable.txt
      

      
